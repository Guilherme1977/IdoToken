(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afcd13be"],{"0ff5":function(e,t,n){"use strict";n("f696")},"35e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},e7ac:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",class:"mobile"===e.device?"app-container":"app-container-pc"},[n("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("el-tab-pane",{attrs:{label:e.$t("coin.createContract"),name:"contract"}},[n("el-row",{class:"mobile"===e.device?"offset-mobile-4":"offset-pc",attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:24,md:11,lg:11}},[n("el-card",{staticClass:"box-card",class:"mobile"===e.device?"offset-mobile-8":"offset-pc"},[n("div",{staticStyle:{"margin-top":"4px","margin-bottom":"16px","text-align":"start","font-weight":"600"}},[e._v("1."+e._s(e.$t("coin.stakedConfig")))]),n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"10px"}}),n("el-form",{ref:"stakedForm",staticClass:"demo-dynamic",staticStyle:{"margin-top":"20px"},attrs:{rules:e.stakedRules,model:e.stakedForm,"label-position":"top"}},[n("el-form-item",{attrs:{label:"","label-width":"80px",prop:"typeRadio"}},[n("div",{staticStyle:{"text-align":"center"}},[n("el-radio",{attrs:{label:"1",border:""},model:{value:e.stakedForm.typeRadio,callback:function(t){e.$set(e.stakedForm,"typeRadio",t)},expression:"stakedForm.typeRadio"}},[e._v(e._s(e.$t("coin.singleToken")))]),n("el-radio",{attrs:{label:"2",border:""},model:{value:e.stakedForm.typeRadio,callback:function(t){e.$set(e.stakedForm,"typeRadio",t)},expression:"stakedForm.typeRadio"}},[e._v(e._s(e.$t("coin.dualToken")))])],1)]),n("el-form-item",{attrs:{prop:"coinValue",label:"1"===e.stakedForm.typeRadio?e.$t("coin.stakedToken"):e.$t("coin.stakedLP"),"label-width":"80px"}},[n("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.addressCheckLoading,expression:"addressCheckLoading"}],staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:e.$t("coin.selectTokenTip")},on:{select:e.handleSelect,focus:e.addressCheckReset,input:e.addressCheck},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("div",{staticClass:"name"},[e._v(e._s(a.value)+" - "+e._s(a.address))])]}}]),model:{value:e.stakedForm.coinValue,callback:function(t){e.$set(e.stakedForm,"coinValue",t)},expression:"stakedForm.coinValue"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})])],1),n("el-form-item",{attrs:{label:e.$t("global.startTime"),"label-width":"80px",prop:"startTime"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:e.$t("global.selectTime")},model:{value:e.stakedForm.startTime,callback:function(t){e.$set(e.stakedForm,"startTime",t)},expression:"stakedForm.startTime"}})],1),n("el-form-item",{attrs:{label:e.$t("global.endTime"),"label-width":"80px",prop:"endTime"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:e.$t("global.selectTime")},model:{value:e.stakedForm.endTime,callback:function(t){e.$set(e.stakedForm,"endTime",t)},expression:"stakedForm.endTime"}})],1)],1)],1)],1),n("el-col",{attrs:{xs:24,sm:24,md:1,lg:1}},[n("span",{staticStyle:{"margin-left":"10px"}})]),n("el-col",{attrs:{xs:24,sm:24,md:11,lg:11}},[n("el-card",{staticClass:"box-card",class:"mobile"===e.device?"offset-mobile-8":"offset-pc"},[n("div",{staticStyle:{"margin-top":"4px","margin-bottom":"16px","text-align":"start","font-weight":"600"}},[e._v("2."+e._s(e.$t("coin.rewardConfig")))]),n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"10px"}}),n("el-form",{ref:"rewardForm",staticClass:"demo-dynamic",staticStyle:{"margin-top":"10px"},attrs:{model:e.rewardForm,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"coinValue",label:e.$t("coin.rewardToken"),"label-width":"80px",rules:{required:!0,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.rewardCheckLoading,expression:"rewardCheckLoading"}],staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.rewardQuerySearch,placeholder:e.$t("coin.selectTokenTip")},on:{select:e.rewardHandleSelect,focus:e.rewardAddressCheckReset,input:e.rewardAddressCheck},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("div",{staticClass:"name"},[e._v(e._s(a.value)+" - "+e._s(a.address))])]}}]),model:{value:e.rewardForm.coinValue,callback:function(t){e.$set(e.rewardForm,"coinValue",t)},expression:"rewardForm.coinValue"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})])],1),n("el-form-item",{attrs:{label:"","label-width":"80px",prop:"blockInterval",rules:{required:!0,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("div",{staticStyle:{"margin-top":"10px",display:"flex","align-items":"center"}},[n("el-button",{attrs:{type:"text"}},[n("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),n("span",{staticClass:"primary-label",staticStyle:{"margin-right":"6px"}},[e._v(e._s(e.$t("coin.interval"))+" ("+e._s(e.$t("coin.rewardOnce"))+")")])]),n("el-input",{staticClass:"el-input",attrs:{type:"number",onkeyup:"value=value.replace(/[^\\d]/g,'').replace(/^0{1,}/g,'')",size:"small",placeholder:""},model:{value:e.rewardForm.blockInterval,callback:function(t){e.$set(e.rewardForm,"blockInterval",t)},expression:"rewardForm.blockInterval"}}),n("el-select",{attrs:{size:"small",placeholder:""},model:{value:e.rewardForm.timeRadio,callback:function(t){e.$set(e.rewardForm,"timeRadio",t)},expression:"rewardForm.timeRadio"}},e._l(e.$t("global.timeList"),(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),n("el-form-item",{attrs:{label:e.$t("coin.rewardPerBlock")+(""!==e.rewardForm.symbol?"("+e.rewardForm.symbol+")":""),"label-width":"80px",prop:"blockReward",rules:{required:!0,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("el-input",{attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')",placeholder:e.$t("coin.plsInputAmount")},model:{value:e.rewardForm.blockReward,callback:function(t){e.$set(e.rewardForm,"blockReward",t)},expression:"rewardForm.blockReward"}})],1),n("el-form-item",[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("span",{staticClass:"primary-label",staticStyle:{"margin-right":"12px"}},[e._v(e._s(e.$t("coin.opensource")))]),n("el-switch",{attrs:{disabled:e.openSourceDisabled,"active-color":"#13ce66","inactive-color":"#C0C4CC"},on:{change:e.changeOpensource},model:{value:e.opensource,callback:function(t){e.opensource=t},expression:"opensource"}})],1)])],1)],1),n("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[n("el-button",{staticStyle:{"min-width":"20%"},attrs:{icon:"el-icon-edit",type:"primary",loading:e.createLoading},on:{click:e.submitForm}},[e._v(e._s(e.$t("coin.create")))])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.stepDialogVisible&&"mobile"===e.device,expression:"stepDialogVisible && device === 'mobile'"}]},[n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"20px"}}),n("div",{staticStyle:{margin:"8px"}},[n("div",{staticStyle:{margin:"10px 0"}},[e._v(e._s(e.$t("coin.createProgress"))+"：")]),n("el-steps",{attrs:{direction:"vertical",space:"60px",active:e.stepNo,"finish-status":"finish","process-status":e.stepError?"error":"process"}},e._l(e.stepList,(function(e,t){return n("el-step",{key:t,attrs:{title:e.title,description:e.description}})})),1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.miningAddress||e.opensource&&e.stepNo>e.stepFinishedNo&&""!==e.openSourceLink,expression:"miningAddress !== '' || opensource && stepNo>stepFinishedNo && openSourceLink!==''"}],staticStyle:{"margin-top":"20px",border:"2px solid #2ac06d",padding:"12px 0"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.miningAddress,expression:"miningAddress !== ''"}]},[n("div",{staticStyle:{"font-size":"14px","text-align":"center"}},[e._v(e._s(e.$t("coin.coinContract")))]),n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","margin-top":"6px","text-align":"center","font-size":"13px"}},[n("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.miningAddress)+" "),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"4px","font-weight":"500"},on:{click:function(t){return e.handleCopy(e.miningAddress,t)}}})])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.opensource&&e.stepNo>e.stepFinishedNo&&""!==e.openSourceLink,expression:"opensource && stepNo>stepFinishedNo && openSourceLink!==''"}],staticStyle:{"margin-top":"16px"}},[n("div",{staticStyle:{"font-size":"14px","text-align":"center"}},[e._v(e._s(e.$t("coin.openSourceLink")))]),n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","font-size":"13px","margin-top":"6px"}},[n("el-tag",{attrs:{type:"success"}},[n("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:e.openSourceLink,target:"_blank"}},[e._v(e._s(e.stringIntercept(e.openSourceLink,20,20)))]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"6px","font-weight":"500"},on:{click:function(t){return e.handleCopy(e.openSourceLink,t)}}})])],1)])])])],1)],1)],1),n("el-tab-pane",{attrs:{label:e.$t("coin.manage"),name:"manage"}},[n("el-row",{class:"mobile"===e.device?"offset-mobile-4":"offset-pc",attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:24,md:10,lg:10}},[n("el-card",{staticClass:"box-card",class:"mobile"===e.device?"offset-mobile-8":"offset-pc"},[n("div",{staticStyle:{"margin-bottom":"4px",color:"#606266"}},[e._v(e._s(e.$t("coin.miningAddr"))+"：")]),n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("el-input",{attrs:{size:"small",clearable:!0,placeholder:"0x23Edf..."},model:{value:e.miningAddress,callback:function(t){e.miningAddress=t},expression:"miningAddress"}}),n("el-button",{attrs:{type:"primary",size:"small",loading:e.manageLoading},on:{click:e.getAbi}},[e._v(e._s(e.$t("coin.manage")))])],1),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:-1===e.permissionStatus,expression:"permissionStatus === -1"}],attrs:{title:e.$t("coin.permissionTip"),type:"error","show-icon":""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.permissionStatus,expression:"permissionStatus === 1"}]},[n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"20px"}}),n("div",{staticClass:"item-pc",staticStyle:{"margin-top":"24px"}},[n("el-input",{attrs:{clearable:!0,size:"small",placeholder:e.$t("coin.plsInputAmount")},model:{value:e.sendAmount,callback:function(t){e.sendAmount=t},expression:"sendAmount"}},[n("template",{slot:"prepend"},[n("span",{},[e._v(e._s(e.$t("coin.rewardSupply"))+" "+e._s(e.rewardSymbol))])])],2),n("el-button",{staticStyle:{"margin-top":"0px"},attrs:{size:"small",type:"primary"},on:{click:e.inSupply}},[e._v(e._s(e.$t("coin.putIn")))])],1),n("div",{staticStyle:{"margin-top":"16px"}},[n("el-button",{staticStyle:{"margin-top":"0px"},attrs:{type:"danger",size:"small",round:""},on:{click:e.stopMining}},[e._v(e._s(e.$t("coin.endMining")))])],1)]),n("div",{staticStyle:{"margin-top":"46px","font-size":"16px",display:"flex","align-items":"center"}},[n("i",{staticClass:"el-icon-service",staticStyle:{"font-size":"18px","font-weight":"bold","margin-right":"4px"}}),n("b",[e._v(e._s(e.$t("coin.kindTips"))+"：")]),e._v(e._s(e.$t("coin.dappTip"))+" "),n("el-link",{attrs:{href:e.telegramLink,target:"_blank"}},[n("b",[e._v(e._s(e.$t("coin.us")))])])],1),n("div",{staticClass:"item-pc"},[n("el-link",{attrs:{type:"primary",href:e.dappLink1,target:"_blank"}},[e._v(e._s(e.$t("coin.dappTemplate1"))+" "+e._s(e.$t("coin.link")))]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"font-size":"16px","margin-left":"6px"},on:{click:function(t){return e.handleCopy(e.dappLink1,t)}}})],1)],1)],1),n("el-col",{attrs:{xs:24,sm:24,md:5,lg:5}},[n("span",{staticStyle:{"margin-left":"100px"}})]),n("el-col",{attrs:{xs:24,sm:24,md:9,lg:9}},[n("div",{staticStyle:{"text-align":"center"}},[n("div",{staticStyle:{"margin-bottom":"6px"}},[n("el-link",{attrs:{type:"primary",href:e.dappLink1,target:"_blank"}},[e._v(e._s(e.$t("coin.dappTemplate1")))])],1),n("iframe",{attrs:{src:e.dappLink1,height:"600px",width:"340px"}})])])],1)],1),n("el-tab-pane",{attrs:{label:e.$t("coin.introduce"),name:"introduce"}},[n("div",{staticClass:"offset-mobile-8"},[n("div",{staticStyle:{"margin-top":"16px"}},[n("span",{staticClass:"introduce-title"},[e._v("1). "+e._s(e.$t("coin.stakeMining"))+"：")]),n("span",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.$t("coin.miningDesc"))+".")])]),n("div",{staticStyle:{"margin-top":"16px"}},[n("span",{staticClass:"introduce-title"},[e._v("2). "+e._s(e.$t("coin.fairReward"))+"：")]),n("span",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.$t("coin.fairRewardDesc"))+".")])]),n("div",{staticStyle:{"font-weight":"500","margin-top":"24px","font-size":"14px"}},[e._v("3). "+e._s(e.$t("coin.requirement"))+"：")]),n("div",{staticClass:"word-explain"},[n("span",{staticStyle:{"font-weight":"600"}},[e._v("a.")]),e._v(e._s(e.$t("coin.miningRequire1")))]),n("div",{staticClass:"word-explain"},[n("span",{staticStyle:{"font-weight":"600"}},[e._v("b.")]),e._v(e._s(e.$t("coin.miningRequire2")))]),n("div",{staticClass:"word-explain"},[n("span",{staticStyle:{"font-weight":"600"}},[e._v("c.")]),e._v(e._s(e.$t("coin.miningRequire3")))])])])],1),"mobile"!==e.device?n("el-dialog",{attrs:{title:"","show-close":!1,"close-on-click-modal":!1,visible:e.stepDialogVisible,width:"60%",top:"30vh",center:""},on:{"update:visible":function(t){e.stepDialogVisible=t}}},[n("el-steps",{attrs:{active:e.stepNo,"finish-status":"success","process-status":e.stepError?"error":"process","align-center":""}},e._l(e.stepList,(function(e,t){return n("el-step",{key:t,attrs:{title:e.title}})})),1),e.stepNo>e.stepFinishedNo?n("div",{staticStyle:{"text-align":"center","font-size":"60px",color:"#2ac06d"}},[n("i",{staticClass:"el-icon-circle-check",staticStyle:{"font-weight":"500"}})]):n("div",[n("div",{staticStyle:{"margin-top":"20px","text-align":"center","font-size":"20px",color:"#303133","font-weight":"500"}},[e._v(e._s(e.$t("coin.normalSteps")[e.stepNo>e.stepFinishedNo?e.stepFinishedNo:e.stepNo].title)),n("i",{staticClass:"el-icon-loading",staticStyle:{"margin-left":"10px"}})]),n("div",{staticStyle:{"margin-top":"10px","font-size":"13px","text-align":"center",color:"#909399",opacity:"1"}},[e._v(e._s(e.$t("coin.normalSteps")[e.stepNo>e.stepFinishedNo?e.stepFinishedNo:e.stepNo].description))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.miningAddress,expression:"miningAddress !== ''"}],staticStyle:{"margin-top":"20px",display:"flex","align-items":"center","justify-content":"center"}},[n("span",{staticStyle:{"font-size":"13px","margin-right":"2px"}},[e._v(e._s(e.$t("coin.miningAddr")))]),n("span",{staticStyle:{"font-weight":"bolder","font-size":"15px","margin-right":"6px"}},[e._v(e._s(e.miningAddress))]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"font-weight":"500"},on:{click:function(t){return e.handleCopy(e.miningAddress,t)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.opensource&&e.stepNo>e.stepFinishedNo&&""!==e.openSourceLink,expression:"opensource && stepNo>stepFinishedNo && openSourceLink!==''"}],staticStyle:{"margin-top":"20px",display:"flex","align-items":"center","justify-content":"center"}},[n("span",{staticStyle:{"font-size":"13px","margin-right":"2px"}},[e._v(e._s(e.$t("coin.openSourceLink")))]),n("a",{staticStyle:{"font-weight":"bolder","font-size":"15px","margin-right":"6px","text-decoration":"underline"},attrs:{href:e.openSourceLink,target:"_blank"}},[e._v(e._s(e.stringIntercept(e.openSourceLink,25,25)))]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"font-weight":"500"},on:{click:function(t){return e.handleCopy(e.openSourceLink,t)}}})]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"success"},on:{click:function(t){e.stepDialogVisible=!1}}},[e._v(e._s(e.stepNo>e.stepFinishedNo?e.$t("global.finished"):e.$t("global.close")))])],1)],1):e._e()],1)},r=[],i=n("5530"),s=n("1da1"),o=(n("4de4"),n("d3b7"),n("ddb0"),n("3ca3"),n("498a"),n("25f0"),n("a9e3"),n("96cf"),n("2f62")),c=n("e0e0"),l=n("e35c"),d=n("f71e"),u=n("ed08"),p=n("35e4"),m=n("901e"),f=n.n(m),g={name:"Standard",data:function(){var e=this,t=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==a){t.next=4;break}r(new Error(e.$t("coin.nullTip"))),t.next=14;break;case 4:if(t.t0="2"===e.stakedForm.typeRadio,!t.t0){t.next=9;break}return t.next=8,e.isLP();case 8:t.t0=!t.sent;case 9:if(!t.t0){t.next=13;break}r(new Error(e.$t("coin.noLp"))),t.next=14;break;case 13:r();case 14:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}();return{activeTab:"contract",apiUrl:"",apiKey:"",scanUrl:"",key:"",addressCheckLoading:!1,stakedCoins:[],stakedForm:{typeRadio:"1",coinValue:"",tokenAddress:"",startTime:"",endTime:""},stakedRules:{coinValue:[{required:!0,validator:t,trigger:"blur"}],startTime:[{required:!0,message:this.$t("coin.nullTip"),trigger:"blur"}],endTime:[{required:!0,message:this.$t("coin.nullTip"),trigger:"blur"}]},rewardCheckLoading:!1,rewardCoins:[],rewardForm:{coinValue:"",tokenAddress:"",decimals:18,symbol:"",blockInterval:"1",timeRadio:"1",blockReward:""},openSourceLink:"",opensource:!1,openSourceDisabled:!1,miningAddress:"",notifyInstance:null,stepDialogVisible:!1,stepNo:0,stepFinishedNo:3,stepError:!1,createLoading:!1,requestData:{},manageLoading:!1,manageContract:null,abiFaultStatus:!1,permissionStatus:0,dappLink1:"https://dapp.chaintool.app/#/",telegramLink:"https://t.me/chain_tool",sendAmount:"",rewardSymbol:"",rewardDecimal:18,rewardContract:null}},computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["web3","wallet","chainId","device"])),{},{stepList:function(){var e=this;return this.$t("coin.normalSteps").filter((function(t){return!!e.opensource||t.id<4}))}}),watch:{web3:function(e){},wallet:function(e){},chainId:function(e){this.getChainInfos()}},mounted:function(){this.getChainInfos()},methods:{changeOpensource:function(e){this.stepFinishedNo=e?3:2},getChainInfos:function(){var e=[3,4,5,11155111,42,97,80001];e.indexOf(parseInt(this.chainId))>-1?(this.opensource=!1,this.changeOpensource(!1),this.openSourceDisabled=!0):this.openSourceDisabled=!1;for(var t=0;t<c["a"].length;t++)if(this.chainId===c["a"][t].id){this.scanUrl=c["a"][t].url,this.apiUrl=c["a"][t].api;var n=c["a"][t].keys;this.key=n[Math.floor(Math.random()*n.length)]}},isLP:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=[{constant:!0,inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],e.web3){t.next=3;break}return t.abrupt("return",!0);case 3:if(e.web3.utils.isAddress(e.stakedForm.tokenAddress)){t.next=5;break}return t.abrupt("return",!0);case 5:return t.prev=5,a=new e.web3.eth.Contract(n,e.stakedForm.tokenAddress),t.next=9,a.methods.token0().call();case 9:return t.abrupt("return",!0);case 12:t.prev=12,t.t0=t["catch"](5);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()},submitForm:function(){var e=this,t=this,n=new Promise((function(t,n){e.$refs["stakedForm"].validate((function(e){if(!e)return!1;t()}))})),a=new Promise((function(t,n){e.$refs["rewardForm"].validate((function(e){if(!e)return!1;t()}))}));Promise.all([n,a]).then((function(){t.createContract()}))},createContract:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o,c,d,u,p,m,f,g,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.web3){t.next=2;break}return t.abrupt("return");case 2:if(n="",a="",r=e.dateFormatToNum(e.stakedForm.startTime),i=e.dateFormatToNum(e.stakedForm.endTime),!(r>i)){t.next=9;break}return e.$message({message:e.$t("coin.startEndTip"),type:"error"}),t.abrupt("return");case 9:return s=[86400,3600,60,1],o=s[parseInt(e.rewardForm.timeRadio)-1]*parseInt(e.rewardForm.blockInterval),c=e.amountToChain(e.rewardForm.blockReward,e.rewardForm.decimals),d={chain:e.chainId,sourcename:"mining",stakedtoken:e.stakedForm.tokenAddress,rewardtoken:e.rewardForm.tokenAddress,blockreward:c,blockinterval:o,starttime:r,endtime:i,opensource:e.opensource,address:e.wallet},e.stepDialogVisible=!0,e.createLoading=!0,e.stepError=!1,e.stepNo=0,e.miningAddress="",u="",p="0",t.prev=20,t.next=23,Object(l["c"])("/api/v1/web/mining/generate",d);case 23:m=t.sent,e.requestData=d,m=m.data,n=m.bytecode,a=m.abi,e.apiKey=m.apikey,u=m.service,p=m.gasfee,t.next=38;break;case 33:t.prev=33,t.t0=t["catch"](20),console.log("Compile error"),e.createLoading=!1,e.stepError=!0;case 38:if(""!==a){t.next=40;break}return t.abrupt("return");case 40:e.stepNo++,f=new e.web3.eth.Contract(a),g=e,h=[],h.push(e.stakedForm.tokenAddress),h.push(e.rewardForm.tokenAddress),h.push(c),h.push(o),h.push(r),h.push(i),h.push(u),f.deploy({data:n,arguments:h}).send({from:e.wallet,value:p},(function(e,t){})).on("error",(function(e){g.createLoading=!1,g.stepError=!0})).on("transactionHash",(function(e){g.stepNo++,g.hashNotify(e)})).on("receipt",(function(e){g.miningAddress!==e.contractAddress&&(g.stepNo++,g.miningAddress=e.contractAddress,g.opensource&&(g.openSourceLink=g.scanUrl+"address/"+g.miningAddress+"#code"),g.opensource&&setTimeout((function(){g.checkOpensource()}),1e4),g.notifyInstance.close())}));case 52:case"end":return t.stop()}}),t,null,[[20,33]])})))()},checkOpensource:function(){var e=this,t=this;Object(l["a"])(this.apiUrl,{module:"contract",action:"getabi",address:this.miningAddress,apikey:this.apiKey}).then((function(e){"1"===e.status?(t.verifySuccessDeal(),t.markSourceCode()):"0"===e.status&&setTimeout((function(){t.submitSourceCode()}),15e3)})).catch((function(t){e.createLoading=!1}))},submitSourceCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.requestData["contract"]=e.miningAddress,t.next=4,Object(l["c"])("/api/v1/web/verify",e.requestData);case 4:n=t.sent,"1"===n.status&&setTimeout((function(){e.checkVerifyStatus(n.result)}),2e4),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("error: ",t.t0),e.createLoading=!1,e.stepError=!0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},markSourceCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={contract:e.miningAddress,address:e.wallet},t.next=4,Object(l["c"])("/api/v1/web/mark",n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("error: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},checkVerifyStatus:function(e){var t=this,n={module:"contract",action:"checkverifystatus",guid:e,apikey:this.apiKey};Object(l["a"])(this.apiUrl,n).then((function(e){"1"===e.status?t.verifySuccessDeal():"0"===e.status&&(e.result.indexOf("Verified")>-1||e.result.indexOf("verified")>-1?t.verifySuccessDeal():e.result.indexOf("queue")>-1&&setTimeout((function(){Object(l["a"])(t.apiUrl,n).then((function(e){"1"===e.status&&t.verifySuccessDeal()})).catch((function(e){console.log("error",e)}))}),1e4))})).catch((function(e){console.log("error",e)}))},verifySuccessDeal:function(){this.stepNo++,this.createLoading=!1,"mobile"===this.device&&this.$message({message:this.$t("global.success"),type:"success"})},hashNotify:function(e){var t=this.scanUrl+"tx/"+e,n=Object(u["g"])(e,10,10),a=this.$t("coin.transDetails"),r='<div style="display: flex;justify-content: space-between; align-items: center;">\n<i class="el-icon-loading" style="font-size: 24px;color: #409EFF;font-weight: bold"></i>\n<div style="margin-left: 16px">\n<div style="font-size: 14px;color: #303133;font-weight: bold">'+a+"</div>\n<a href="+t+' target="_blank" style="font-size: 16px;color: #606266;text-decoration:underline;">'+n+"</a>\n</div>\n</div>";this.notifyInstance=this.$notify({dangerouslyUseHTMLString:!0,message:r,duration:0})},querySearch:function(e,t){var n=this.stakedCoins;e&&n.filter(this.createFilter(e));t(n)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.stakedForm.coinValue=e.value,t.stakedForm.tokenAddress=e.address;case 2:case"end":return n.stop()}}),n)})))()},addressCheckReset:function(){this.addressCheckLoading=!1},addressCheck:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.stakedForm.coinValue){t.next=2;break}return t.abrupt("return");case 2:n=0;case 3:if(!(n<e.stakedCoins.length)){t.next=9;break}if(e.stakedForm.coinValue!==e.stakedCoins[n].value){t.next=6;break}return t.abrupt("return");case 6:n++,t.next=3;break;case 9:if(e.checkWeb3()){t.next=11;break}return t.abrupt("return");case 11:if(e.stakedForm.coinValue=e.stakedForm.coinValue.trim(),!1!==e.web3.utils.isAddress(e.stakedForm.coinValue)){t.next=14;break}return t.abrupt("return");case 14:return e.addressCheckLoading=!0,t.prev=15,a=new e.web3.eth.Contract(p["a"],e.stakedForm.coinValue),t.next=19,a.methods.symbol().call();case 19:r=t.sent,e.stakedForm.tokenAddress=e.stakedForm.coinValue,i={value:r,address:e.stakedForm.coinValue},e.stakedCoins.push(i),e.stakedForm.coinValue=r,e.addressCheckLoading=!1,t.next=30;break;case 27:t.prev=27,t.t0=t["catch"](15),e.addressCheckLoading=!1;case 30:case"end":return t.stop()}}),t,null,[[15,27]])})))()},handleIconClick:function(e){},rewardQuerySearch:function(e,t){var n=this.rewardCoins;e&&n.filter(this.createFilter(e));t(n)},rewardHandleSelect:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.rewardForm.coinValue=e.value,t.rewardForm.tokenAddress=e.address;case 2:case"end":return n.stop()}}),n)})))()},rewardAddressCheckReset:function(){this.rewardCheckLoading=!1},rewardAddressCheck:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.rewardForm.coinValue){t.next=2;break}return t.abrupt("return");case 2:n=0;case 3:if(!(n<e.rewardCoins.length)){t.next=9;break}if(e.rewardForm.coinValue!==e.rewardCoins[n].value){t.next=6;break}return t.abrupt("return");case 6:n++,t.next=3;break;case 9:if(e.checkWeb3()){t.next=11;break}return t.abrupt("return");case 11:if(e.rewardForm.coinValue=e.rewardForm.coinValue.trim(),!1!==e.web3.utils.isAddress(e.rewardForm.coinValue)){t.next=14;break}return t.abrupt("return");case 14:return e.rewardCheckLoading=!0,t.prev=15,a=new e.web3.eth.Contract(p["a"],e.rewardForm.coinValue),t.next=19,a.methods.symbol().call();case 19:return r=t.sent,e.rewardForm.symbol=r,e.rewardForm.tokenAddress=e.rewardForm.coinValue,i={value:r,address:e.rewardForm.coinValue},e.rewardCoins.push(i),e.rewardForm.coinValue=r,e.rewardCheckLoading=!1,t.next=28,a.methods.decimals().call();case 28:e.rewardForm.decimals=t.sent,t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](15),e.rewardCheckLoading=!1;case 34:case"end":return t.stop()}}),t,null,[[15,31]])})))()},getAbi:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e,""!==e.miningAddress){t.next=3;break}return t.abrupt("return");case 3:return e.miningAddress=e.miningAddress.trim(),a=[{inputs:[],name:"uuid",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}],r=null,i=!0,s="",t.prev=8,r=new e.web3.eth.Contract(a,e.miningAddress),t.next=12,r.methods.uuid().call();case 12:s=t.sent,i=!1,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](8),console.log("sss");case 19:e.manageContract=null,e.manageLoading=!0,e.abiFaultStatus=!1,i?Object(l["a"])(e.apiUrl,{module:"contract",action:"getabi",address:e.miningAddress,apikey:e.key}).then((function(e){if("1"===e.status){var t=JSON.parse(e.result);n.generateContract(t,""),n.manageLoading=!1}else"0"===e.status&&n.tryAbi(s)})).catch((function(e){n.manageLoading=!1,n.abiFaultStatus=!0})):e.tryAbi(s);case 23:case"end":return t.stop()}}),t,null,[[8,16]])})))()},tryAbi:function(e){var t=this,n=c["a"][7].api,a=c["a"][7].key,r="0x1E5574D79730CABebaD4De26AD4631Ef037B5823";Object(l["a"])(n,{module:"contract",action:"getabi",address:r,apikey:a}).then((function(n){if("1"===n.status){var a=JSON.parse(n.result);t.generateContract(a,e)}else"0"===n.status&&(t.abiFaultStatus=!0);t.manageLoading=!1})).catch((function(e){t.manageLoading=!1,t.abiFaultStatus=!0}))},generateContract:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.manageContract=new n.web3.eth.Contract(e,n.miningAddress),t.next=3,n.manageContract.methods.owner().call();case 3:if(a=t.sent,a!==n.zeroAddress){t.next=9;break}return n.permissionStatus=-1,t.abrupt("return");case 9:if(a===n.wallet){t.next=12;break}return n.permissionStatus=-1,t.abrupt("return");case 12:return n.permissionStatus=1,t.next=15,n.miningInfos();case 15:case"end":return t.stop()}}),t)})))()},miningInfos:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.manageContract.methods.getBaseInfos().call();case 3:n=t.sent,a=n[1],e.rewardSymbol=a[1],r=n[0],e.rewardDecimal=r[6],i=n[2],e.rewardContract=new e.web3.eth.Contract(p["a"],i[0]),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},inSupply:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.sendAmount){t.next=2;break}return t.abrupt("return");case 2:return e.sendAmount=e.sendAmount.trim(),t.prev=3,n=e.amountToChain(e.sendAmount,e.rewardDecimal),t.next=7,e.rewardContract.methods.transfer(e.miningAddress,n).send({from:e.wallet});case 7:e.success(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.fail();case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},stopMining:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.manageContract.methods.stopReward().send({from:e.wallet});case 3:e.success(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.fail();case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},checkWeb3:function(){return!!this.web3||(this.$message({message:this.$t("coin.connectWallet"),type:"error",duration:1500}),!1)},dateFormatToNum:function(e){return""===e?0:Date.parse(new Date(e).toString())/1e3},amountToChain:function(e,t){var n=Number(t);return new f.a(e).times(new f.a(10).pow(n)).toString(10)},stringIntercept:function(e,t,n){return Object(u["g"])(e,t,n)},handleCopy:function(e,t){Object(d["a"])(e,t)}}},h=g,b=(n("0ff5"),n("2877")),y=Object(b["a"])(h,a,r,!1,null,"1a287f5c",null);t["default"]=y.exports},f696:function(e,t,n){}}]);