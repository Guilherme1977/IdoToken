(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60294af7"],{"0eb9":function(e,t,a){"use strict";a("2c8d")},17:function(e,t){},26317:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{background:"white"}},[a("div",{staticStyle:{padding:"12px"}},[a("el-button",{attrs:{icon:"el-icon-download",type:"primary",size:"small"},on:{click:function(t){e.importDialogVisible=!0}}},[e._v(e._s(e.$t("coin.importAccount")))])],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"240","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"50"}}),a("el-table-column",{attrs:{label:"ID",align:"center",type:"index",width:"40"}}),a("el-table-column",{attrs:{prop:"address",label:e.$t("coin.address"),width:"400",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"ethBalanceDisplay",label:e.chains[parseInt(e.chainValue)].symbol+" "+e.$t("global.balance"),width:"160",align:"center"}}),a("el-table-column",{attrs:{prop:"tokenBalanceDisplay",label:(""!==e.tokenSymbol&&e.tokenSymbol!==e.chains[parseInt(e.chainValue)].symbol?e.tokenSymbol:e.$t("coin.token"))+" "+e.$t("global.balance"),width:"200",align:"center"}}),a("el-table-column",{attrs:{label:e.$t("coin.txHash"),width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:e.chains[parseInt(e.chainValue)].scan+"tx/"+t.row.txHash,target:"_blank"}},[a("span",[e._v(e._s(""!==t.row.txHash?e.stringIntercept(t.row.txHash,4,4):""))])])]}}])}),a("el-table-column",{attrs:{align:"center",width:"120",label:e.$t("global.status")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:-1===t.row.status,expression:"scope.row.status === -1"}],attrs:{type:"info"}},[e._v(e._s(e.$t("global.notPerformed")))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:1===t.row.status,expression:"scope.row.status === 1"}],attrs:{type:"success"}},[e._v(e._s(e.$t("global.success")))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:0===t.row.status,expression:"scope.row.status === 0"}],attrs:{type:"danger"}},[e._v(e._s(e.$t("global.fail")))])]}}])}),a("el-table-column",{attrs:{label:e.$t("global.actions"),"min-width":"120","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData)}}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",circle:"",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.refresh(t.$index)}}})]}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],staticStyle:{"margin-top":"20px","padding-bottom":"10px","text-align":"center"}},[a("el-select",{attrs:{placeholder:e.$t("global.plsSelect")},on:{change:e.operateSelect},model:{value:e.operateValue,callback:function(t){e.operateValue=t},expression:"operateValue"}},e._l(e.$t("coin.tableOpers"),(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},["2"===t.value?a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label)+" "+e._s(e.chains[parseInt(e.chainValue)].symbol))]):"3"===t.value?a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label)+" "+e._s(""!==e.tokenSymbol&&e.tokenSymbol!==e.chains[parseInt(e.chainValue)].symbol?e.tokenSymbol:"Token"))]):a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))])])})),1),a("el-button",{staticStyle:{"margin-left":"6px"},attrs:{icon:"el-icon-download",type:"success"},on:{click:e.handleDownload}},[e._v(e._s(e.$t("coin.exportSelected")))]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:e.deleteSelect}},[e._v(e._s(e.$t("coin.deleteSelected")))])],1)],1),a("div",{staticStyle:{background:"white",margin:"20px auto",padding:"16px"}},[a("div",{staticStyle:{"margin-left":"10px"}},[a("div",{staticClass:"flex-item"},[a("div",{staticClass:"label-title"},[e._v(e._s(e.$t("coin.chain"))+":")]),a("el-select",{attrs:{placeholder:e.$t("global.plsSelect")},on:{change:e.chainSelect},model:{value:e.chainValue,callback:function(t){e.chainValue=t},expression:"chainValue"}},[a("div",{staticStyle:{height:"100%"},attrs:{slot:"prefix"},slot:"prefix"},[a("svg-icon",{staticStyle:{height:"100%",margin:"auto 0",color:"#8492a6","font-size":"18px"},attrs:{"icon-class":e.chains[e.chainValue].icon}})],1),e._l(e.chains,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("svg-icon",{staticStyle:{float:"right",color:"#8492a6","font-size":"15px"},attrs:{"icon-class":t.icon}})],1)])}))],2),a("el-button",{staticStyle:{"margin-left":"12px"},attrs:{icon:"el-icon-refresh",type:"primary",size:"small",plain:""},on:{click:function(t){e.nodeDialogVisible=!0}}},[e._v(e._s(e.$t("coin.rpcUpdate")))])],1),a("div",{staticClass:"flex-item"},[a("div",{staticClass:"label-title"},[e._v(e._s(e.$t("coin.selectToken"))+":")]),a("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.addressCheckLoading,expression:"addressCheckLoading"}],staticStyle:{width:"40%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:e.$t("coin.selectTokenTip")},on:{select:e.handleSelect,focus:e.addressCheckReset,input:e.addressCheck},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("div",{staticClass:"name"},[e._v(e._s(n.value)+" - "+e._s(n.address))])]}}]),model:{value:e.coinValue,callback:function(t){e.coinValue=t},expression:"coinValue"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),a("el-button",{staticStyle:{"margin-left":"12px"},attrs:{type:"primary",size:"small",plain:""},on:{click:e.queryBalance}},[e._v(e._s(e.$t("coin.queryBalance")))])],1),a("div",{staticClass:"flex-item"},[a("div",{staticClass:"label-title",attrs:{type:"text"}},[a("span",{staticClass:"label-title"},[e._v(e._s(e.$t("coin.gasFee")))]),a("span",{staticStyle:{color:"#606266"}},[e._v("(â‰ˆ"+e._s(e.gasFee)+" "+e._s(e.chains[parseInt(e.chainValue)].symbol)+"):")])]),a("div",{staticStyle:{display:"grid","grid-template-columns":"2fr 1fr","column-gap":"10px",width:"60%"}},[a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')",placeholder:e.$t("coin.gasPriceTip")},model:{value:e.gasPrice,callback:function(t){e.gasPrice=t},expression:"gasPrice"}},[a("template",{slot:"prepend"},[e._v("Gas Price(GWei)")]),a("el-button",{staticStyle:{color:"#409EFF"},attrs:{slot:"append"},on:{click:e.getGasPrice},slot:"append"},[e._v(e._s(e.$t("coin.getNewGas")))])],2),a("el-input",{attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')",placeholder:e.$t("coin.gasLimitTip")},model:{value:e.gasLimit,callback:function(t){e.gasLimit=t},expression:"gasLimit"}},[a("template",{slot:"prepend"},[e._v("Gas Limit")])],2)],1)]),a("div",{staticClass:"flex-item"},[a("div",{staticClass:"label-title"},[e._v(e._s(e.$t("coin.sendNum"))+":")]),a("el-switch",{attrs:{"active-text":e.$t("global.fixed"),"inactive-text":e.$t("global.all")},model:{value:e.selectFixed,callback:function(t){e.selectFixed=t},expression:"selectFixed"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.selectFixed,expression:"selectFixed"}],staticStyle:{"margin-left":"10px","text-align":"center",width:"30%"},attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')",placeholder:e.$t("coin.sendNumTip")},model:{value:e.sendAmount,callback:function(t){e.sendAmount=t},expression:"sendAmount"}})],1),a("div",{staticClass:"flex-item"},[a("div",{staticClass:"label-title"},[e._v(e._s(e.$t("coin.receiveAddr"))+":")]),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"40%"},attrs:{placeholder:e.$t("coin.inputAddress")},model:{value:e.receiveAddress,callback:function(t){e.receiveAddress=t},expression:"receiveAddress"}})],1),a("div",{staticClass:"flex-item"},[a("div",{staticClass:"label-title"}),a("el-button",{attrs:{type:"success",loading:e.executeLoading},on:{click:e.execute}},[e._v(e._s(e.$t("coin.execute")))])],1)])]),a("el-dialog",{attrs:{title:e.$t("coin.importAddr"),width:"44%",visible:e.importDialogVisible},on:{"update:visible":function(t){e.importDialogVisible=t},close:e.closeAddressDialog}},[a("div",{staticStyle:{"font-size":"14px",color:"#606266","font-weight":"600","margin-bottom":"10px"}},[e._v(e._s(e.$t("coin.privateKey")))]),a("el-input",{attrs:{type:"textarea",rows:8,placeholder:e.$t("coin.privateKeyTip")},model:{value:e.privateKeys,callback:function(t){e.privateKeys=t},expression:"privateKeys"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeAddressDialog}},[e._v(e._s(e.$t("global.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.addAddresses}},[e._v(e._s(e.$t("global.confirm")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("global.setup"),width:"30%",visible:e.nodeDialogVisible},on:{"update:visible":function(t){e.nodeDialogVisible=t},close:e.closeNodeDialog}},[a("div",{staticStyle:{"font-size":"14px",color:"#606266","font-weight":"600","margin-bottom":"10px"}},[e._v(e._s(e.$t("coin.rpcAddr")))]),a("el-input",{attrs:{placeholder:""},model:{value:e.chains[parseInt(e.chainValue)].rpc,callback:function(t){e.$set(e.chains[parseInt(e.chainValue)],"rpc",t)},expression:"chains[parseInt(chainValue)].rpc"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeNodeDialog}},[e._v(e._s(e.$t("global.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.closeNodeDialog}},[e._v(e._s(e.$t("global.confirm")))])],1)],1)],1)},s=[],i=a("de9f"),r=i["a"],l=(a("0eb9"),a("2877")),c=Object(l["a"])(r,n,s,!1,null,"506f40e3",null);t["default"]=c.exports},"2c8d":function(e,t,a){},"35e4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},de9f:function(e,t,a){"use strict";(function(e){var n=a("1da1"),s=(a("d3b7"),a("25f0"),a("fb6a"),a("ac1f"),a("1276"),a("159b"),a("a434"),a("2ca0"),a("a9e3"),a("a15b"),a("ddb0"),a("b0c0"),a("4de4"),a("498a"),a("d81d"),a("3ca3"),a("96cf"),a("e0e0")),i=a("c0d8"),r=a.n(i),l=a("35e4"),c=a("901e"),o=a.n(c),u=a("2330"),d=a.n(u),p=a("6983"),h=a.n(p),b=a("ed08"),m=a("e35c");t["a"]={name:"BatchCollection",data:function(){return{operateValue:"",tableData:[],multipleSelection:[],chains:[],chainValue:"0",web3Instance:null,coinValue:"",tokenAddress:"",tokenContract:null,tokenSymbol:"",decimals:18,addressCheckLoading:!1,addressCheckStatus:-1,zeroAddress:"0x0000000000000000000000000000000000000000",gasPrice:"0",gasLimit:"210000",sendAmount:"",selectFixed:!1,receiveAddress:"",importDialogVisible:!1,privateKeys:"",nodeDialogVisible:!1,downloadLoading:!1,executeLoading:!1}},computed:{gasFee:function(){if(""===this.gasPrice||""===this.gasLimit)return 0;var e=new o.a(this.gasLimit).times(this.gasPrice).div(Math.pow(10,9));return Object(b["f"])(4,e)}},created:function(){this.getSomeChainInfos()},methods:{stringIntercept:function(e,t,a){return Object(b["g"])(e,t,a)},execute:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.receiveAddress){t.next=2;break}return t.abrupt("return");case 2:if(null!==e.web3Instance){t.next=4;break}return t.abrupt("return");case 4:if(e.executeLoading=!0,""!==e.tokenAddress&&e.tokenAddress!==e.zeroAddress){t.next=10;break}return t.next=8,e.executeEth();case 8:t.next=12;break;case 10:return t.next=12,e.executeToken();case 12:e.executeLoading=!1,e.queryEthBalance();case 14:case"end":return t.stop()}}),t)})))()},executeEth:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new o.a(e.gasPrice).times(Math.pow(10,9)).toString(10),n=0;case 2:if(!(n<e.tableData.length)){t.next=47;break}if(s="0",i=e.tableData[n],!e.selectFixed){t.next=9;break}s=r.a.utils.toWei(e.sendAmount,"ether"),t.next=16;break;case 9:if(!(parseFloat(i.ethBalanceDisplay)>0)){t.next=13;break}s=i.ethBalance,t.next=16;break;case 13:return t.next=15,e.web3Instance.eth.getBalance(i.address);case 15:s=t.sent;case 16:if(!new o.a(s).eq(0)){t.next=18;break}return t.abrupt("continue",44);case 18:return l=void 0,t.prev=19,t.next=22,e.web3Instance.eth.accounts.signTransaction({from:i.address,gas:e.gasLimit,gasPrice:a,to:e.receiveAddress,data:"",value:s},i.privateKey);case 22:l=t.sent,t.next=30;break;case 25:return t.prev=25,t.t0=t["catch"](19),console.error(t.t0),e.tableData[n].status=0,t.abrupt("continue",44);case 30:return t.prev=30,t.next=33,e.web3Instance.eth.sendSignedTransaction(l.rawTransaction);case 33:c=t.sent,e.tableData[n].status=1,e.tableData[n].txHash=c.transactionHash,new o.a(i.ethBalance).gt(s)&&(e.tableData[n].ethBalance=new o.a(i.ethBalance).minus(s).toString(10),e.tableData[n].ethBalanceDisplay=e.chainAmountN(4,e.tableData[n].ethBalance)),console.log(c),t.next=44;break;case 40:t.prev=40,t.t1=t["catch"](30),e.tableData[n].status=0,console.error("sendSignedTransaction message = ",t.t1);case 44:n++,t.next=2;break;case 47:case"end":return t.stop()}}),t,null,[[19,25],[30,40]])})))()},executeToken:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,r,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new o.a(e.gasPrice).times(Math.pow(10,9)).toString(10),n=0;case 2:if(!(n<e.tableData.length)){t.next=48;break}if(s="0",i=e.tableData[n],!e.selectFixed){t.next=9;break}s=new o.a(e.sendAmount).times(e.multiplier()).toString(10),t.next=16;break;case 9:if(!(parseFloat(i.tokenBalanceDisplay)>0)){t.next=13;break}s=i.tokenBalance,t.next=16;break;case 13:return t.next=15,e.tokenContract.methods.balanceOf(i.address).call();case 15:s=t.sent;case 16:if(!new o.a(s).eq(0)){t.next=18;break}return t.abrupt("continue",45);case 18:return r=e.tokenContract.methods.transfer(e.receiveAddress,s).encodeABI(),l=void 0,t.prev=20,t.next=23,e.web3Instance.eth.accounts.signTransaction({gas:e.gasLimit,gasPrice:a,to:e.tokenAddress,data:r,value:0},i.privateKey);case 23:l=t.sent,t.next=31;break;case 26:return t.prev=26,t.t0=t["catch"](20),console.error(t.t0),e.tableData[n].status=0,t.abrupt("continue",45);case 31:return t.prev=31,t.next=34,e.web3Instance.eth.sendSignedTransaction(l.rawTransaction);case 34:c=t.sent,e.tableData[n].status=1,e.tableData[n].txHash=c.transactionHash,new o.a(i.tokenBalance).gt(s)&&(e.tableData[n].tokenBalance=new o.a(i.tokenBalance).minus(s).toString(10),e.tableData[n].tokenBalanceDisplay=e.chainTokenAmountN(4,e.tableData[n].tokenBalance)),console.log(c),t.next=45;break;case 41:t.prev=41,t.t1=t["catch"](31),e.tableData[n].status=0,console.error("sendSignedTransaction message = ",t.t1);case 45:n++,t.next=2;break;case 48:case"end":return t.stop()}}),t,null,[[20,26],[31,41]])})))()},privateToAddress:function(e){var t=d.a.publicKeyCreate(e,!1).slice(1);return h()("keccak256").update(t).digest().slice(-20).toString("hex")},toChecksumAddress:function(e){for(var t=h()("keccak256").update(e).digest().toString("hex"),a="",n=0;n<e.length;n++)a+=parseInt(t[n],16)>=8?e[n].toUpperCase():e[n];return a},addAddresses:function(){if(""!==this.privateKeys){var t=this.privateKeys.split(/[(\r\n)\r\n]+/);t.forEach((function(e,a){e||t.splice(a,1)}));for(var a=[],n=0;n<t.length;n++){var s={id:0,privateKey:"",address:"",ethBalance:"0",tokenBalance:"0",ethBalanceDisplay:"0",tokenBalanceDisplay:"0",txHash:"",status:-1};s.id=n+1;var i=t[n];i.startsWith("0x")&&(i=i.slice(2));var l=e.from(i,"hex"),c=this.privateToAddress(l);r.a.utils.isAddress(c)&&(s.privateKey=t[n],s.address="0x"+this.toChecksumAddress(c),a.push(s))}this.tableData=[],this.tableData=a,this.closeAddressDialog()}else this.$message({message:this.$t("coin.receiveListNull"),type:"error"})},closeAddressDialog:function(){this.importDialogVisible=!1,this.privateKeys=""},closeNodeDialog:function(){this.nodeDialogVisible=!1},chainAmountN:function(e,t){var a=r.a.utils.fromWei(t,"ether");return Object(b["f"])(e,a)},chainTokenAmountN:function(e,t){var a=new o.a(t).div(this.multiplier()).toString(10);return Object(b["f"])(e,a)},multiplier:function(){var e=Number(this.decimals);return new o.a(10).pow(e)},refresh:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log("index: "+e),null!==t.web3Instance){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,t.web3Instance.eth.getBalance(t.tableData[e].address);case 6:n=a.sent,t.tableData[e].ethBalance=n,n=t.chainAmountN(4,n),t.tableData[e].ethBalanceDisplay=n,a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](3),t.tableData[e].status=0;case 15:if(""!==t.tokenAddress&&t.tokenAddress!==t.zeroAddress){a.next=17;break}return a.abrupt("return");case 17:if(null!==t.tokenContract){a.next=19;break}return a.abrupt("return");case 19:return a.prev=19,a.next=22,t.tokenContract.methods.balanceOf(t.tableData[e].address).call();case 22:s=a.sent,t.tableData[e].tokenBalance=s,s=t.chainTokenAmountN(4,s),t.tableData[e].tokenBalanceDisplay=s,a.next=31;break;case 28:a.prev=28,a.t1=a["catch"](19),t.tableData[e].status=0;case 31:case"end":return a.stop()}}),a,null,[[3,12],[19,28]])})))()},queryEthBalance:function(){for(var e=this,t=[],a=0;a<this.tableData.length;a++)t.push(this.tableData[a].address);var n={module:"account",action:"balancemulti",tag:"latest",address:t.join(","),apikey:this.chains[parseInt(this.chainValue)].keys};Object(m["a"])(this.chains[parseInt(this.chainValue)].api,n).then((function(t){if("1"===t.status)for(var a=t.result,n=0;n<a.length&&n<e.tableData.length;n++)e.tableData[n].address===a[n].account&&(e.tableData[n].ethBalance=a[n].balance,e.tableData[n].ethBalanceDisplay=e.chainAmountN(4,a[n].balance))})).catch((function(e){console.log("error",e)}))},queryBalance:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.queryEthBalance(),""!==e.tokenAddress&&e.tokenAddress!==e.zeroAddress){t.next=3;break}return t.abrupt("return");case 3:if(null!==e.tokenContract){t.next=5;break}return t.abrupt("return");case 5:a=0;case 6:if(!(a<e.tableData.length)){t.next=22;break}return t.prev=7,t.next=10,e.tokenContract.methods.balanceOf(e.tableData[a].address).call();case 10:n=t.sent,e.tableData[a].tokenBalance=n,n=e.chainTokenAmountN(4,n),e.tableData[a].tokenBalanceDisplay=n,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](7),e.tableData[a].status=0;case 19:a++,t.next=6;break;case 22:case"end":return t.stop()}}),t,null,[[7,16]])})))()},getGasPrice:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["a"])(e.chains[parseInt(e.chainValue)].api,{module:"proxy",action:"eth_gasPrice",apikey:e.chains[parseInt(e.chainValue)].keys});case 2:a=t.sent,a.result&&(n=new o.a(a.result).div(new o.a(10).pow(9)).toString(10),e.gasPrice=Math.round(n));case 4:case"end":return t.stop()}}),t)})))()},chainSelect:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log("chain->val: "+e),n=t.chains[parseInt(e)].rpc,t.coinValue="",a.prev=3,t.web3Instance=new r.a(n),t.web3Instance){a.next=8;break}return console.error("init web3 error... mainNet rpc = "+n),a.abrupt("return");case 8:a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](3);case 12:return a.next=14,t.getGasPrice();case 14:case"end":return a.stop()}}),a,null,[[3,10]])})))()},resetChainSelect:function(e){for(var t=0;t<this.chains.length;t++)this.chains[t].id===e&&(this.chainValue=t+"",this.chainSelect(t+""))},getSomeChainInfos:function(){for(var e=["Ethereum","BSC","Polygon","Optimism","Arbitrum","Avalanche","OKXChain","Heco","Fantom"],t=0,a=[],n=0;n<s["a"].length;n++)if(e.indexOf(s["a"][n].nameAlias)>-1){var i={id:0,label:"",value:"",icon:"",symbol:"",scan:"",rpc:"",api:"",keys:"",coins:[]};i.id=s["a"][n].id,i.label=s["a"][n].nameAlias,i.value=t+"",i.icon=s["a"][n].icon,i.symbol=s["a"][n].symbol,i.scan=s["a"][n].url,i.rpc=s["a"][n].rpc,i.api=s["a"][n].api;var r=s["a"][n].keys;i.keys=r[Math.floor(Math.random()*r.length)];var l=s["a"][n].tokens,c=[];if(l.length>0)for(var o=0;o<l.length;o++){var u={value:"",address:"",decimals:18};u.value=l[o].name,u.address=l[o].address,u.decimals=l[o].decimals,c.push(u)}c.length>0&&(i.coins=c),a.push(i),t++}this.chains=[],this.chains=a,console.log(this.chains),this.chainSelect(this.chainValue)},querySearch:function(e,t){var a=this.chains[parseInt(this.chainValue)].coins;e&&a.filter(this.createFilter(e));t(a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t.chains[parseInt(t.chainValue)].coins,s=0;case 2:if(!(s<n.length)){a.next=13;break}if(e.address!==n[s].address){a.next=10;break}return t.tokenSymbol=n[s].value,t.tokenAddress=n[s].address,t.decimals=n[s].decimals,a.next=9,t.createContract();case 9:return a.abrupt("break",13);case 10:s++,a.next=2;break;case 13:case"end":return a.stop()}}),a)})))()},handleIconClick:function(e){console.log(e)},createContract:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(""!==e.tokenAddress&&e.tokenAddress!==e.zeroAddress){t.next=4;break}return t.abrupt("return");case 4:if(e.tokenContract=new e.web3Instance.eth.Contract(l["a"],e.tokenAddress),e.tokenContract){t.next=8;break}return console.error("init contract error"),t.abrupt("return");case 8:case"end":return t.stop()}}),t)})))()},addressCheckReset:function(){this.addressCheckLoading=!1,this.addressCheckStatus=-1},addressCheck:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.coinValue){t.next=2;break}return t.abrupt("return");case 2:a=0;case 3:if(!(a<e.chains[parseInt(e.chainValue)].coins.length)){t.next=9;break}if(e.coinValue!==e.chains[parseInt(e.chainValue)].coins[a].value){t.next=6;break}return t.abrupt("return");case 6:a++,t.next=3;break;case 9:if(e.checkWeb3()){t.next=11;break}return t.abrupt("return");case 11:if(e.coinValue=e.coinValue.trim(),!1!==e.web3Instance.utils.isAddress(e.coinValue)){t.next=15;break}return e.addressCheckStatus=1,t.abrupt("return");case 15:return e.addressCheckLoading=!0,t.prev=16,e.tokenContract=new e.web3Instance.eth.Contract(l["a"],e.coinValue),t.next=20,e.tokenContract.methods.symbol().call();case 20:n=t.sent,e.tokenSymbol=n,e.tokenAddress=e.coinValue,s={value:n,address:e.coinValue,decimals:18},e.chains[parseInt(e.chainValue)].coins.push(s),e.coinValue=n,e.addressCheckStatus=0,t.next=32;break;case 29:t.prev=29,t.t0=t["catch"](16),e.addressCheckStatus=1;case 32:if(e.addressCheckLoading=!1,!e.tokenContract){t.next=39;break}return t.next=36,e.tokenContract.methods.decimals().call();case 36:e.decimals=t.sent,i=e,e.chains[parseInt(e.chainValue)].coins.map((function(e,t){e.address===i.tokenAddress&&(i.chains[parseInt(i.chainValue)].coins[t]["decimals"]=i.decimals)}));case 39:case"end":return t.stop()}}),t,null,[[16,29]])})))()},checkWeb3:function(){return!!this.web3Instance||(this.$message({message:this.$t("coin.connectWallet"),type:"error",duration:1500}),!1)},operateSelect:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("Oper->val: "+e),n=[],"0"===e||("1"===e?n=t.tableData:"2"===e?n=t.tableData.filter((function(e){return 0==parseFloat(e.ethBalanceDisplay)})):"3"===e?n=t.tableData.filter((function(e){return 0==parseFloat(e.tokenBalanceDisplay)})):"4"===e?n=t.tableData.filter((function(e){return parseFloat(e.ethBalanceDisplay)>0||parseFloat(e.tokenBalanceDisplay)>0})):"5"===e?n=t.tableData.filter((function(e){return 1===e.status})):"6"===e&&(n=t.tableData.filter((function(e){return 0===e.status})))),t.$refs.multipleTable.clearSelection(),n.length>0&&(t.$refs.multipleTable.clearSelection(),t.toggleSelection(n));case 5:case"end":return a.stop()}}),a)})))()},toggleSelection:function(e){var t=this;e&&e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)}))},deleteRow:function(e,t){t.splice(e,1)},deleteSelect:function(){var e=this;0!==this.multipleSelection.length&&(this.tableData=this.tableData.filter((function(t){return!e.multipleSelection.some((function(e){return e.id===t.id}))})),this.multipleSelection=[])},handleSelectionChange:function(e){this.multipleSelection=e,console.log("multipleSelection:"),console.log(this.multipleSelection)},handleDownload:function(){var e=this;0!==this.multipleSelection.length&&(this.downloadLoading=!0,Promise.all([a.e("chunk-5164a781"),a.e("chunk-519483dc"),a.e("chunk-25162394")]).then(a.bind(null,"4bf8")).then((function(t){for(var a=[],n=[],i=[{label:e.$t("global.id"),field:"id"},{label:e.$t("coin.address"),field:"address"},{label:e.$t("coin.privateKey"),field:"privateKey"},{label:e.chains[parseInt(e.chainValue)].symbol+e.$t("global.balance"),field:"ethBalanceDisplay"},{label:(""!==e.tokenSymbol&&e.tokenSymbol!==s["a"][parseInt(e.chainValue)].symbol?e.tokenSymbol:e.$t("coin.token"))+" "+e.$t("global.balance"),field:"tokenBalanceDisplay"},{label:e.$t("coin.txHash"),field:"txHash"},{label:e.$t("global.status"),field:"status"}],r=0,l=i;r<l.length;r++){var c=l[r];a.push(c.label),n.push(c.field)}var o=e.formatJson(e.multipleSelection,n),u=parseInt((new Date).getTime()/1e3),d=Object(b["d"])(u,"{y}-{m}-{d}_{h}_{i}_{s}"),p=e.$t("coin.collectResult")+d;t.export_json_to_excel({header:a,data:o,filename:p}),e.downloadLoading=!1})))},formatJson:function(e,t){return e.map((function(e){return t.map((function(t){return"timestamp"===t?Object(b["d"])(e[t]):"status"===t?e[t]>0?"Success":0===e[t]?"Fail":"":e[t]}))}))}}}}).call(this,a("b639").Buffer)}}]);