(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0674dc81"],{14:function(e,t){},15:function(e,t){},16:function(e,t){},"35e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},3796:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),n("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover,click:e.handleUpload}},[n("i",{staticClass:"el-icon-upload",staticStyle:{"margin-top":"26px",display:"block","font-size":"50px"}}),n("span",{staticStyle:{"margin-top":"26px",display:"block"},attrs:{loading:e.loading}},[e._v(e._s(e.$t("global.dragFile"))+" "),n("span",{staticStyle:{color:"#409EFF",opacity:"0.75"}},[e._v(e._s(e.$t("global.clickUpload")))])])])])},r=[],s=(n("d3b7"),n("ac1f"),n("00b4"),n("b0c0"),n("1146")),i=n.n(s),o={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,n=e.results;this.excelData.header=t,this.excelData.results=n,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var n=t[0];if(!this.isExcel(n))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(n),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,n=t[0];n&&this.upload(n)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(n,a){var r=new FileReader;r.onload=function(e){var a=e.target.result,r=i.a.read(a,{type:"array"}),s=r.SheetNames[0],o=r.Sheets[s],l=t.getHeaderRow(o),c=i.a.utils.sheet_to_json(o);t.generateData({header:l,results:c}),t.loading=!1,n()},r.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,n=[],a=i.a.utils.decode_range(e["!ref"]),r=a.s.r;for(t=a.s.c;t<=a.e.c;++t){var s=e[i.a.utils.encode_cell({c:t,r:r})],o="UNKNOWN "+t;s&&s.t&&(o=i.a.utils.format_cell(s)),n.push(o)}return n},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},l=o,c=(n("390f"),n("2877")),d=Object(c["a"])(l,a,r,!1,null,"0e34cc90",null);t["a"]=d.exports},"390f":function(e,t,n){"use strict";n("7b55")},"583f":function(e,t,n){},"7b55":function(e,t,n){},8325:function(e,t,n){"use strict";var a=n("b311");if(!a)throw new Error("you should npm install `clipboard` --save at first ");var r={bind:function(e,t){if("success"===t.arg)e._v_clipboard_success=t.value;else if("error"===t.arg)e._v_clipboard_error=t.value;else{var n=new a(e,{text:function(){return t.value},action:function(){return"cut"===t.arg?"cut":"copy"}});n.on("success",(function(t){var n=e._v_clipboard_success;n&&n(t)})),n.on("error",(function(t){var n=e._v_clipboard_error;n&&n(t)})),e._v_clipboard=n}},update:function(e,t){"success"===t.arg?e._v_clipboard_success=t.value:"error"===t.arg?e._v_clipboard_error=t.value:(e._v_clipboard.text=function(){return t.value},e._v_clipboard.action=function(){return"cut"===t.arg?"cut":"copy"})},unbind:function(e,t){"success"===t.arg?delete e._v_clipboard_success:"error"===t.arg?delete e._v_clipboard_error:(e._v_clipboard.destroy(),delete e._v_clipboard)}},s=function(e){e.directive("Clipboard",r)};window.Vue&&(window.clipboard=r,Vue.use(s)),r.install=s;t["a"]=r},accf:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"mobile"===e.device?"app-container":"app-container-pc"},[n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.createLoading,expression:"createLoading"}],attrs:{gutter:0,"element-loading-text":e.$t("coin.contracting"),"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.1)"}},[n("el-col",{attrs:{xs:24,sm:24,md:3,lg:4}},[n("span",{staticStyle:{"margin-left":"100px"}})]),n("el-col",{attrs:{xs:24,sm:24,md:18,lg:16}},[n("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.networkTip&&!e.wallet,expression:"networkTip && !wallet"}],staticStyle:{"margin-bottom":"12px"},attrs:{title:e.$t("coin.connectWallet"),type:"error",center:"","show-icon":""}}),n("el-steps",{attrs:{active:e.stepNo,"finish-status":"success","process-status":e.stepError?"error":"process","align-center":""}},e._l(e.$t("coin.batchSendSteps"),(function(e,t){return n("el-step",{key:t,attrs:{title:e.title}})})),1),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.stepNo,expression:"stepNo === 0"}]},[n("div",{staticStyle:{"margin-top":"10px",display:"flex","align-items":"center"}},[n("el-button",{staticClass:"label-title",attrs:{type:"text"}},[e._v(e._s(e.$t("coin.sendCoin")))]),n("el-select",{attrs:{placeholder:e.$t("global.plsSelect")},on:{change:e.tokenSelect},model:{value:e.coinValue,callback:function(t){e.coinValue=t},expression:"coinValue"}},e._l(e.coins,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[n("div",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.label))])])})),1),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.showCustomizeAddress,expression:"showCustomizeAddress"},{name:"loading",rawName:"v-loading",value:e.addressCheckLoading,expression:"addressCheckLoading"}],attrs:{placeholder:e.$t("coin.inputAddress"),"prefix-icon":"el-icon-search"},on:{focus:e.addressCheckReset,input:e.addressCheck},model:{value:e.tokenAddress,callback:function(t){e.tokenAddress=t},expression:"tokenAddress"}})],1),n("div",[n("div",{staticStyle:{"margin-top":"16px","margin-bottom":"6px",display:"grid","grid-template-columns":"1fr 1fr 1fr"}},[n("span",{staticClass:"label-title"},[e._v(e._s(e.$t("coin.receiveList"))+" [ "+e._s(e.$t("coin.address"))+","+e._s(e.$t("coin.amount"))+" ]")]),n("div",{staticStyle:{"text-align":"center"}},[n("a",{staticStyle:{"text-decoration":"underline"},on:{click:function(t){e.addAmountDialogVisible=!0}}},[e._v(e._s(e.$t("coin.batchAddAmount")))])]),n("div",{staticStyle:{"text-align":"right"}},[n("a",{staticStyle:{"text-decoration":"underline"},on:{click:function(t){e.handInput=!e.handInput}}},[e._v(e._s(e.handInput?e.$t("global.uploadFile"):e.$t("global.handInput")))])])]),e.handInput?n("el-input",{attrs:{type:"textarea",rows:16,placeholder:e.$t("coin.batchSendTip")},model:{value:e.addressAmount,callback:function(t){e.addressAmount=t},expression:"addressAmount"}}):n("upload-excel-component",{staticStyle:{margin:"0 auto",height:"180px",width:"100%"},attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),n("div",{staticStyle:{"margin-top":"6px","margin-bottom":"16px",color:"#606266",display:"flex","justify-content":"space-between"}},[n("span",{staticStyle:{color:"#606266"}},[e._v(e._s(e.handInput?"":e.$t("coin.canFileType")+"ï¼š CSV / Excel"))]),n("a",{staticStyle:{"text-decoration":"underline"},on:{click:e.example}},[e._v(e._s(e.handInput?e.$t("global.viewExample"):e.$t("global.downloadTemplate")))])])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.stepNo,expression:"stepNo === 1"}],staticStyle:{"margin-top":"16px"}},[n("div",{staticStyle:{"margin-top":"16px"}},[e._v(e._s(e.$t("coin.receiveDetail")))]),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"240","tooltip-effect":"dark"}},[n("el-table-column",{attrs:{label:"ID",align:"center",type:"index",width:"40"}}),n("el-table-column",{attrs:{prop:"address",label:e.$t("coin.address"),width:"400",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"amount",label:e.$t("coin.amount"),width:"240",align:"center"}}),n("el-table-column",{attrs:{label:e.$t("global.actions"),"min-width":"120","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.tableData)}}})]}}])})],1),n("div",{staticStyle:{"margin-top":"16px"}},[e._v(e._s(e.$t("coin.overview")))]),e.overviewLoading?n("el-skeleton",{attrs:{rows:6,animated:""}}):n("div",[n("div",{staticClass:"overview",class:e.tokenAddress===e.zeroAddress?"rows-eth":"rows-token"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.tokenAddress!==e.zeroAddress,expression:"tokenAddress !== zeroAddress"}],staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.transAmountDisplay))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.needAllowance")))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tokenAddress!==e.zeroAddress,expression:"tokenAddress !== zeroAddress"}],staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.allowanceDisplay))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.currentAllowance")))])])]),n("div",{staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.addressCount))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.addressNum")))])])]),n("div",{staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.transAmountDisplay)+" "+e._s(e.tokenSymbol))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.coinTransAmount")))])])]),n("div",{staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.transCount))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.txNum")))])])]),n("div",{staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.tokenBalance)+" "+e._s(e.tokenSymbol))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.coinBalance")))])])]),n("div",{staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.fee)+" "+e._s(e.ethSymbol))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.estimateGas"))+e._s(""===e.$t("coin.single")?"":"("+e.$t("coin.single")+e.overview.arrayLimit+e.$t("coin.calPerAdd")+")"))])])]),n("div",{staticStyle:{background:"white",display:"table"}},[n("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"18px","font-weight":"500"}},[e._v(e._s(e.overview.ethBalance)+" "+e._s(e.ethSymbol))]),n("div",{staticStyle:{"margin-left":"20px","margin-top":"4px","font-size":"13px",color:"#909399"}},[e._v(e._s(e.$t("coin.your"))+" "+e._s(e.ethSymbol)+" "+e._s(e.$t("global.balance")))])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tokenAddress!==e.zeroAddress&&e.showApprove,expression:"tokenAddress !== zeroAddress && showApprove"}],staticStyle:{"margin-top":"16px"}},[n("span",[e._v(e._s(e.$t("coin.approveAmount"))+":")]),n("el-radio",{attrs:{label:"1"},model:{value:e.approveRadio,callback:function(t){e.approveRadio=t},expression:"approveRadio"}},[e._v(e._s(e.$t("coin.sendNum"))+"("+e._s(e.overview.transAmountDisplay)+" "+e._s(e.tokenSymbol)+")")]),n("el-radio",{attrs:{label:"2"},model:{value:e.approveRadio,callback:function(t){e.approveRadio=t},expression:"approveRadio"}},[e._v(e._s(e.$t("coin.unlimitNum")))])],1)])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.stepNo>=2,expression:"stepNo >= 2"}],staticStyle:{"margin-top":"30px"}},[e._v(" "+e._s(e.$t("coin.totalTask"))+" "),n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.overview.transCount))]),e._v(" "+e._s(e.$t("coin.piece"))+", "+e._s(e.$t("coin.taskCompleted"))+" "),n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.overview.currentCount))]),e._v(" / "),n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.overview.transCount))]),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.stepNo,expression:"stepNo === 2"}],staticStyle:{"margin-top":"12px"}},[e._v(e._s(e.$t("coin.addressNum"))+" "),n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.overview.addressCount))]),e._v(" , "+e._s(e.$t("coin.onceSend"))+" "),n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.overview.arrayLimit))]),e._v(" "+e._s(e.$t("coin.piece"))+" , "+e._s(e.$t("coin.sending"))+e._s(e.$t("coin.addressNo"))+": "+e._s(e.overview.startNo)+" - "+e._s(e.overview.endNo)+"... ")]),n("div",{staticStyle:{"margin-top":"16px","text-align":"center"}},[n("el-progress",{attrs:{type:"circle",percentage:e.overview.ratio,status:"success"}}),n("div",{staticStyle:{"margin-top":"6px","text-align":"center"}},[e._v(e._s(e.overview.ratio>=100?e.$t("global.completed"):e.$t("coin.taskProgress")))])],1)]),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.errorContent,expression:"errorContent"}],staticStyle:{"white-space":"pre-line","line-height":"20px"},attrs:{title:e.$t("coin.faultTip"),type:"error",description:e.errorContent}}),n("div",{staticStyle:{"margin-top":"12px"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.stepNo>0,expression:"stepNo > 0"}],staticStyle:{"margin-right":"2px"},attrs:{type:"primary",icon:"el-icon-arrow-left",disabled:e.sendLoading},on:{click:e.goBack}}),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.stepNo<2,expression:"stepNo < 2"}],attrs:{type:"primary",loading:e.sendLoading},on:{click:function(t){""===e.proxyAddress?e.contractMsg():e.nextStep()}}},[e._v(e._s(e.$t("global.next")))])],1)],1),n("el-col",{attrs:{xs:24,sm:24,md:3,lg:4}},[n("span",{staticStyle:{"margin-right":"100px"}})])],1),n("el-dialog",{attrs:{title:e.$t("coin.amountPerAdd"),width:"mobile"===e.device?"90%":"30%",visible:e.addAmountDialogVisible},on:{"update:visible":function(t){e.addAmountDialogVisible=t},close:e.closeAmountDialog}},[n("div",{staticClass:"label-title",staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(e.$t("coin.amount"))+":")]),n("el-input",{attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')",placeholder:""},model:{value:e.amountValue,callback:function(t){e.amountValue=t},expression:"amountValue"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.closeAmountDialog}},[e._v(e._s(e.$t("global.cancel")))]),n("el-button",{attrs:{type:"primary"},on:{click:e.addAmount}},[e._v(e._s(e.$t("global.confirm")))])],1)],1)],1)},r=[],s=n("1da1"),i=n("5530"),o=(n("d3b7"),n("ddb0"),n("b0c0"),n("498a"),n("d81d"),n("3ca3"),n("ac1f"),n("1276"),n("159b"),n("a434"),n("25f0"),n("fb6a"),n("a9e3"),n("00b4"),n("96cf"),n("2f62")),l=n("e0e0"),c=n("35e4"),d=n("3796"),u=n("901e"),p=n.n(u),v=n("f71e"),m=n("8325"),h=n("ed08"),f=n("e35c"),b={name:"BatchSend",components:{UploadExcelComponent:d["a"]},directives:{clipboard:m["a"]},data:function(){return{stepNo:0,stepFinishedNo:2,stepError:!1,networkTip:!1,apiUrl:"",apiKey:"",scanUrl:"",zeroAddress:"0x0000000000000000000000000000000000000000",coins:[],coinValue:"0",tokenAddress:"",addressCheckLoading:!1,addressCheckStatus:-1,showCustomizeAddress:!1,tokenContract:null,addressAmount:"",tableData:[],handInput:!0,addAmountDialogVisible:!1,amountValue:"",errorContent:"",tokenSymbol:"",ethSymbol:"",decimals:18,overview:{addressCount:0,transCount:0,transAmount:0,allowance:0,transAmountDisplay:0,allowanceDisplay:0,tokenBalance:0,fee:0,ethBalance:0,currentCount:0,arrayLimit:200,startNo:0,endNo:0,ratio:0},overviewLoading:!1,showApprove:!1,approveRadio:"2",sendLoading:!1,sendAddresses:[],sendAmounts:[],proxyAddress:"",multiSendContract:null,notifyInstance:null,gasPrice:0,createLoading:!1}},computed:Object(i["a"])({},Object(o["b"])(["web3","wallet","chainId","device"])),watch:{web3:function(e){},wallet:function(e){},chainId:function(e){this.getChainInfos()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getChainInfos();case 2:case"end":return t.stop()}}),t)})))()},methods:{getChainInfos:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=0;n<l["a"].length;n++)if(e.chainId===l["a"][n].id){if(e.scanUrl=l["a"][n].url,e.apiUrl=l["a"][n].api,a=l["a"][n].keys,e.apiKey=a[Math.floor(Math.random()*a.length)],e.ethSymbol=l["a"][n].symbol,r=l["a"][n].tokens,s=[],r.length>0)for(i=0;i<r.length;i++)o={value:"",label:"",address:"",decimals:18},o.value=""+i,o.label=r[i].name,o.address=r[i].address,o.decimals=r[i].decimals,s.push(o);e.coins=[],e.coins=s,e.proxyAddress=l["a"][n].send}if(c={value:"",label:"",address:"",decimals:18},c.value=""+e.coins.length,c.label=e.$t("global.customize"),e.coins.push(c),!(e.coins.length>0)){t.next=9;break}return e.coinValue="0",t.next=9,e.tokenSelect(e.coinValue);case 9:if(!(e.chainId>0&&""===e.proxyAddress)){t.next=14;break}return t.next=12,Object(f["b"])("/api/v1/web/contract",{name:"send",chain:e.chainId});case 12:d=t.sent,e.proxyAddress=null===d.data.contract?"":d.data.contract;case 14:return t.next=16,e.initMultiSendContract();case 16:return t.next=18,e.getGasPrice();case 18:case"end":return t.stop()}}),t)})))()},initMultiSendContract:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(""!==e.proxyAddress){t.next=4;break}return t.abrupt("return");case 4:n=[{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_contributors",type:"address[]"},{internalType:"uint256[]",name:"_balances",type:"uint256[]"}],name:"multisendEther",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"_contributors",type:"address[]"},{internalType:"uint256[]",name:"_balances",type:"uint256[]"}],name:"multisendToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"serviceFee",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"},{inputs:[],name:"_owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],e.multiSendContract=new e.web3.eth.Contract(n,e.proxyAddress);case 6:case"end":return t.stop()}}),t)})))()},contractMsg:function(){var e=this;this.$confirm(this.$t("coin.batchContractTip"),this.$t("global.tip"),{confirmButtonText:this.$t("global.continue"),cancelButtonText:this.$t("global.cancel"),type:"warning"}).then((function(){e.generateContract()})).catch((function(){}))},generateContract:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:return n="",a="",r={chain:e.chainId,sourcename:"send",opensource:!1,address:e.wallet},e.createLoading=!0,t.prev=6,t.next=9,Object(f["c"])("/api/v1/web/send/generate",r);case 9:s=t.sent,e.requestData=r,s=s.data,n=s.bytecode,a=s.abi,e.apiKey=s.apikey,t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](6),e.createLoading=!1;case 20:if(""!==a){t.next=22;break}return t.abrupt("return");case 22:i=new e.web3.eth.Contract(a),o=e,l=[],i.deploy({data:n,arguments:l}).send({from:e.wallet},(function(e,t){})).on("error",(function(e){o.createLoading=!1})).on("transactionHash",(function(e){o.hashNotify(e)})).on("receipt",(function(e){o.proxyAddress!==e.contractAddress&&(o.proxyAddress=e.contractAddress,o.notifyInstance.close(),o.markSourceCode(),o.createLoading=!1,o.nextStep())}));case 26:case"end":return t.stop()}}),t,null,[[6,17]])})))()},markSourceCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={contract:e.proxyAddress,address:e.wallet},t.next=4,Object(f["c"])("/api/v1/web/mark",n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("error: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},tokenSelect:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.tokenSymbol=t.coins[parseInt(e)].label,t.tokenAddress=t.coins[parseInt(e)].address,t.decimals=t.coins[parseInt(e)].decimals,t.showCustomizeAddress=!1,""===t.tokenAddress&&(t.showCustomizeAddress=!0),n.next=7,t.createContract();case 7:case"end":return n.stop()}}),n)})))()},createContract:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(""!==e.tokenAddress&&e.tokenAddress!==e.zeroAddress){t.next=4;break}return t.abrupt("return");case 4:if(e.tokenContract=new e.web3.eth.Contract(c["a"],e.tokenAddress),e.tokenContract){t.next=8;break}return console.error("init contract error"),t.abrupt("return");case 8:case"end":return t.stop()}}),t)})))()},addressCheckReset:function(){this.addressCheckLoading=!1,this.addressCheckStatus=-1},addressCheck:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.tokenAddress){t.next=2;break}return t.abrupt("return");case 2:if(e.checkWeb3()){t.next=4;break}return t.abrupt("return");case 4:if(e.tokenAddress=e.tokenAddress.trim(),!1!==e.web3.utils.isAddress(e.tokenAddress)){t.next=8;break}return e.addressCheckStatus=1,t.abrupt("return");case 8:return e.addressCheckLoading=!0,t.prev=9,e.tokenContract=new e.web3.eth.Contract(c["a"],e.tokenAddress),t.next=13,e.tokenContract.methods.symbol().call();case 13:n=t.sent,e.tokenSymbol=n,a=e.coins.length,r={label:n,value:a+"",address:e.tokenAddress,decimals:18},e.coins.push(r),e.coinValue=a+"",e.addressCheckStatus=0,e.showCustomizeAddress=!1,t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](9),e.addressCheckStatus=1;case 26:if(e.addressCheckLoading=!1,!e.tokenContract){t.next=33;break}return t.next=30,e.tokenContract.methods.decimals().call();case 30:e.decimals=t.sent,s=e,e.coins.map((function(e,t){e.address===s.tokenAddress&&(s.coins[t]["decimals"]=s.decimals)}));case 33:case"end":return t.stop()}}),t,null,[[9,23]])})))()},formatJson:function(e,t){return e.map((function(e){return t.map((function(t){return"timestamp"===t?Object(h["d"])(e[t]):e[t]}))}))},beforeUpload:function(e){var t=e.size/1024/1024<5;return!!t||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(e){for(var t=e.results,n=(e.header,""),a=0;a<t.length;a++)t[a].address&&(n+=t[a].address,t[a].amount&&(n=n+","+t[a].amount),n+="\n");""!==n&&(this.addressAmount=n,this.handInput=!0)},example:function(){var e=this;this.handInput?this.addressAmount="0xE681c073F4aA5E6F0d2900F63b034eb31666983c,10\n0x076D50Ab70DE0DaeDa741057aC615534C43B33D2,100\n0xc956a6D8969244b75d7762668f542AC54Ad9174F,1000\n":(this.downloadLoading=!0,Promise.all([n.e("chunk-519483dc"),n.e("chunk-09290bef")]).then(n.bind(null,"4bf8")).then((function(t){for(var n=[],a=[],r=[{label:"address",field:"address"},{label:"amount",field:"amount"}],s=0,i=r;s<i.length;s++){var o=i[s];n.push(o.label),a.push(o.field)}var l=[{address:"0xE681c073F4aA5E6F0d2900F63b034eb31666983c",amount:"10"},{address:"0x076D50Ab70DE0DaeDa741057aC615534C43B33D2",amount:"100"},{address:"0xc956a6D8969244b75d7762668f542AC54Ad9174F",amount:"1000"}],c=e.formatJson(l,a),d=e.$t("global.downloadTemplate");t.export_json_to_excel({header:n,data:c,filename:d}),e.downloadLoading=!1})))},closeAmountDialog:function(){this.addAmountDialogVisible=!1,this.amountValue=""},addAmount:function(){if(""!==this.amountValue&&""!==this.addressAmount){var e=this.addressAmount.split(/[(\r\n)\r\n]+/);e.forEach((function(t,n){t||e.splice(n,1)}));for(var t="",n=0;n<e.length;n++)-1===e[n].indexOf(",")&&(e[n]=e[n]+","+this.amountValue),t+=e[n]+"\n";""!==t&&(this.addressAmount=t),this.addAmountDialogVisible=!1}},deleteRow:function(e,t){t.splice(e,1)},goBack:function(){this.stepNo>2?(this.stepNo=0,this.overview.ratio=0):this.stepNo>0&&this.stepNo--,this.stepError=!1,this.sendLoading=!1,this.errorContent=""},nextStep:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,l,c,d,u,v,m,h,f,b,y,g,w,x,k,_,A,S,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.stepError=!1,e.errorContent="",null!==e.multiSendContract){t.next=5;break}return t.next=5,e.initMultiSendContract();case 5:if(0!==e.stepNo){t.next=76;break}if(""!==e.addressAmount){t.next=9;break}return e.$message({message:e.$t("coin.receiveListNull"),type:"error"}),t.abrupt("return");case 9:for(n=e.addressAmount.split(/[(\r\n)\r\n]+/),n.forEach((function(e,t){e||n.splice(t,1)})),a=[],e.errorContent="",r=0;r<n.length;r++)s={id:0,address:"",amount:""},s.id=r+1,i=e.$t("coin.no")+s.id+e.$t("coin.row")+": ",o=n[r].trim().split(","),1===o.length?(e.errorContent+=i,e.web3.utils.isAddress(o[0])?e.errorContent+=n[r]+", "+e.$t("coin.plsInputAmount")+"\n":e.isNumber(o[0])?e.errorContent+=e.$t("coin.inputAddress")+", "+n[r]+"\n":o[0].length>30?e.errorContent+=n[r]+", "+e.$t("coin.invalidAddress")+"\n":e.errorContent+=n[r]+", "+e.$t("coin.batchSendFormat")+"\n"):o.length>2?e.errorContent+=i+n[r]+", "+e.$t("coin.batchSendFormat")+"\n":(s.address=o[0].trim(),s.amount=o[1].trim(),e.web3.utils.isAddress(s.address)&&e.isNumber(s.amount)?a.push(s):(e.errorContent+=i,l=e.web3.utils.isAddress(s.address),c=!e.isNumber(s.amount),l&&c&&(e.errorContent+=n[r]+" "+e.$t("coin.invalidAmount")),!l&&c&&(e.errorContent+=s.address+" "+e.$t("coin.invalidAddress")+s.amount),l||c||(e.errorContent+=s.address+" "+e.$t("coin.invalidAddress")+", "+s.amount+" "+e.$t("coin.invalidAmount")),e.errorContent+="\n"));if(""===e.errorContent){t.next=17;break}return e.stepError=!0,t.abrupt("return");case 17:for(e.stepNo++,e.overviewLoading=!0,e.tableData=[],e.tableData=a,d=0,e.sendAddresses=[],e.sendAmounts=[],u=0;u<e.tableData.length;u++)v=e.tableData[u],e.sendAddresses.push(v.address),m=0,m=e.tokenAddress===e.zeroAddress?e.web3.utils.toWei(v.amount,"ether"):e.multiplier().times(v.amount).toString(10),d=new p.a(d).plus(m.toString()),e.sendAmounts.push(m);return e.overview.addressCount=e.tableData.length,e.overview.transAmount=d.toString(10),e.overview.transCount=Math.ceil(e.tableData.length/e.overview.arrayLimit),t.next=30,e.web3.eth.getBalance(e.wallet);case 30:if(h=t.sent,h=e.chainEthAmount6(h),e.overview.ethBalance=h,e.tokenAddress!==e.zeroAddress){t.next=38;break}e.overview.tokenBalance=h,e.overview.transAmountDisplay=e.chainEthAmount6(e.overview.transAmount),t.next=47;break;case 38:return t.next=40,e.tokenContract.methods.balanceOf(e.wallet).call();case 40:return f=t.sent,e.overview.tokenBalance=e.chainTokenAmount6(f),e.overview.transAmountDisplay=e.chainTokenAmount6(e.overview.transAmount),t.next=45,e.tokenContract.methods.allowance(e.wallet,e.proxyAddress).call();case 45:e.overview.allowance=t.sent,e.overview.allowanceDisplay=e.chainTokenAmount6(e.overview.allowance);case 47:if(e.overviewLoading=!1,e.showApprove=new p.a(e.overview.transAmount).gt(e.overview.allowance),!(e.overview.transCount>0)){t.next=74;break}for(b=0,y=e.overview.arrayLimit,y=y>e.overview.addressCount?e.overview.addressCount:y,g=e.sendAddresses.slice(b,y),w=e.sendAmounts.slice(b,y),x=0,k=0;k<w.length;k++)x=new p.a(w[k]).plus(x);if(x=x.toString(10),t.prev=58,_=0,e.tokenAddress!==e.zeroAddress){t.next=66;break}return t.next=63,e.multiSendContract.methods.multisendEther(g,w).estimateGas({from:e.wallet,value:x});case 63:_=t.sent,t.next=69;break;case 66:return t.next=68,e.multiSendContract.methods.multisendToken(e.tokenAddress,g,w).estimateGas({from:e.wallet,value:0});case 68:_=t.sent;case 69:_>0&&""!==e.gasPrice&&(A=new p.a(e.gasPrice).times(_).times(e.overview.transCount).toString(10),e.overview.fee=e.chainEthAmount6(A)),t.next=74;break;case 72:t.prev=72,t.t0=t["catch"](58);case 74:t.next=103;break;case 76:if(1!==e.stepNo){t.next=103;break}if(e.sendLoading=!0,e.tokenAddress===e.zeroAddress){t.next=94;break}if(!e.showApprove){t.next=94;break}return S=e.overview.transAmount,"2"===e.approveRadio&&(S=new p.a("9999999999999999").times(e.multiplier()).toString(10)),t.prev=82,C=e,t.next=86,e.tokenContract.methods.approve(e.proxyAddress,S).send({from:e.wallet}).on("error",(function(e){C.stepError=!0,C.errorContent="Approve Fail"})).on("transactionHash",(function(e){C.hashNotify(e)})).on("receipt",(function(e){C.notifyInstance.close()}));case 86:e.overview.allowance=S,e.overview.allowanceDisplay=e.chainTokenAmount6(S),t.next=94;break;case 90:return t.prev=90,t.t1=t["catch"](82),e.sendLoading=!1,t.abrupt("return");case 94:return t.prev=94,t.delegateYield(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,l,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,a=!1,r=0;case 3:if(!(r<e.overview.transCount)){t.next=25;break}for(e.overview.currentCount=r,s=r*e.overview.arrayLimit,i=(r+1)*e.overview.arrayLimit,e.overview.startNo=s,e.overview.endNo=i>e.overview.addressCount?e.overview.addressCount:i,o=e.sendAddresses.slice(s,i),l=e.sendAmounts.slice(s,i),c=0,d=0;d<l.length;d++)c=new p.a(l[d]).plus(c);if(c=c.toString(10),e.tokenAddress!==e.zeroAddress){t.next=19;break}return t.next=17,e.multiSendContract.methods.multisendEther(o,l).send({from:e.wallet,value:c}).on("error",(function(e){n.stepError=!0,n.sendLoading=!1})).on("transactionHash",(function(e){a||(n.stepNo++,a=!0,n.sendLoading=!1),n.hashNotify(e)})).on("receipt",(function(e){n.notifyInstance.close()}));case 17:t.next=21;break;case 19:return t.next=21,e.multiSendContract.methods.multisendToken(e.tokenAddress,o,l).send({from:e.wallet,value:"1000000000000000"}).on("error",(function(e){n.stepError=!0})).on("transactionHash",(function(e){a||(n.stepNo++,a=!0),n.hashNotify(e)})).on("receipt",(function(e){n.notifyInstance.close()}));case 21:e.overview.ratio=parseInt(100*(r+1)/e.overview.transCount);case 22:r++,t.next=3;break;case 25:e.overview.currentCount=e.overview.transCount,e.stepNo++,e.sendLoading=!1;case 28:case"end":return t.stop()}}),t)}))(),"t2",96);case 96:t.next=103;break;case 98:t.prev=98,t.t3=t["catch"](94),t.t3.message?e.errorContent=t.t3.message:e.errorContent="send fail...",e.stepError=!0,e.sendLoading=!1;case 103:case"end":return t.stop()}}),t,null,[[58,72],[82,90],[94,98]])})))()},hashNotify:function(e){var t=this.scanUrl+"tx/"+e,n=Object(h["g"])(e,10,10),a=this.$t("coin.transDetails"),r='<div style="display: flex;justify-content: space-between; align-items: center;">\n<i class="el-icon-loading" style="font-size: 24px;color: #409EFF;font-weight: bold"></i>\n<div style="margin-left: 16px">\n<div style="font-size: 14px;color: #303133;font-weight: bold">'+a+"</div>\n<a href="+t+' target="_blank" style="font-size: 16px;color: #606266;text-decoration:underline;">'+n+"</a>\n</div>\n</div>";this.notifyInstance=this.$notify({dangerouslyUseHTMLString:!0,message:r,duration:0})},getGasPrice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["a"])(e.apiUrl,{module:"proxy",action:"eth_gasPrice",apikey:e.apiKey});case 2:n=t.sent,n.result&&(e.gasPrice=new p.a(n.result).toString(10));case 4:case"end":return t.stop()}}),t)})))()},chainTokenAmount2:function(e){var t=new p.a(e).div(this.multiplier()).toString(10);return parseFloat(Object(h["f"])(2,t))},chainTokenAmount6:function(e){var t=new p.a(e).div(this.multiplier()).toString(10);return parseFloat(Object(h["f"])(6,t))},chainEthAmount2:function(e){var t=this.web3.utils.fromWei(e,"ether");return parseFloat(Object(h["f"])(2,t))},chainEthAmount6:function(e){var t=this.web3.utils.fromWei(e,"ether");return parseFloat(Object(h["f"])(6,t))},multiplier:function(){var e=Number(this.decimals);return new p.a(10).pow(e)},checkWeb3:function(){return!!this.web3||(this.networkTip=!0,!1)},isNumber:function(e){return""!==e&&null!==e&&/^[0-9]+.?[0-9]*$/.test(e)&&!isNaN(e)},handleCopy:function(e,t){Object(v["a"])(e,t)},clipboardSuccess:function(){this.$message({message:"Copy successfully",type:"success",duration:1500})}}},y=b,g=(n("fb10"),n("2877")),w=Object(g["a"])(y,a,r,!1,null,"960488de",null);t["default"]=w.exports},fb10:function(e,t,n){"use strict";n("583f")}}]);